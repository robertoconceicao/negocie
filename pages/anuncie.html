<div ng-controller="anuncioController"> 	
	<h1>Cadastro de anúncio</h1>
	<p class="help-block">
		Preencha o formulário abaixo e clique em "Publicar grátis".<br /> 
 	   	Os campos marcados com asterisco (*) são obrigatórios 
 	</p>
	<form class="form-horizontal" ng-submit="submitAnuncio(anuncio, 'message')">
		<div class="form-group">				
  			<div id="messages" class="alert alert-success" data-ng-show="messages" data-ng-bind="messages"></div>
  			<div id="error" class="alert alert-danger" data-ng-show="error" data-ng-bind="error"></div>
  		</div>
  		
	  <div class="form-group">
	  	<input type="hidden" name="id" class="form-control" ng-model="anuncio.id">
	  	
		<label for="itCategoria" class="col-sm-2 control-label">Categoria:</label>
		<div class="col-sm-10">
			<select id="itCategoria" class="form-control" ng-model="anuncio.categoria" ng-options="categoria.nmcategoria for categoria in categorias">
			  <option value="">-- selecione uma categoria --</option>
			</select>            
		</div>
	  </div>
	  
	  <div class="form-group">
		<label for="itTitulo" class="col-sm-2 control-label">Título do anúncio:</label>
		<div class="col-sm-10">
		  <input type="text" class="form-control" id="itTitulo" placeholder="Título do anúncio" ng-model="anuncio.titulo">
		</div>
	  </div>      
      
      <!-- TODO por enquanto esta hide -->
	  <div class="form-group hide" >	  
	  	<label class="col-sm-2 control-label">Fotos produto:</label>
	  			  
		<div class="col-sm-10">
		  <div flow-init="" flow-files-submitted="$flow.upload()" 
		  		flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" class="ng-scope">
				  <div class="drop" flow-drop="" ng-class="dropClass">
					<span class="btn btn-default" flow-btn="">
						Upload Image
						<input type="file" multiple="multiple" style="visibility: hidden; position: absolute;">
					</span>            
					<b>ou</b>
					Arraste e solte as fotos aqui
				  </div>
				<br />
				<!-- As imagens aparecerao aqui -->				
				<div ng-repeat="file in $flow.files" class="gallery-box ng-scope">				
				  <span class="title ng-binding">{{file.name}}</span>
				  <div class="thumbnail" ng-show="$flow.files.length">
					<img flow-img="file" src="">
				  </div>
				  <div class="progress progress-striped" ng-class="{active: file.isUploading()}">
					<div class="progress-bar" role="progressbar" aria-valuenow="100" 
						aria-valuemin="0" aria-valuemax="100" ng-style="{width: (file.progress() * 100) + '%'}" style="width: 100%;">
					  <span class="sr-only ng-binding">1% Complete</span>
					</div>
				  </div>
				  <div class="btn-group">
					<a class="btn btn-xs btn-danger" ng-click="file.cancel()">
					  Remove
					</a>
				  </div>
				</div><!-- end ngRepeat: file in $flow.files -->
				<div class="clear"></div>
		 </div>		
		</div>
      </div>
      
      <div class="form-group">
		<label for="itDescricao" class="col-sm-2 control-label">Descrição*:</label>
		<div class="col-sm-10">
			<textarea class="form-control" rows="5" id="itDescricao" placeholder="Vendo uma TV de 32 polegadas ... " ng-model="anuncio.descricao"></textarea>		
		</div>
	  </div>
      
      <div class="form-group">      
		<label for="itPreco" class="col-sm-2 control-label">Preço à negociar:</label>
		<div class="col-sm-10">
			<div class="input-group">
				<span class="input-group-addon">R$</span>
		  		<input type="text" class="form-control" id="itPreco" ng-model="anuncio.preco">
		  	</div>
		</div>
	  </div>
      
	  <hr />
	  
	  <h1>Suas informações</h1>
	  
	  <div class="form-group">
		<label for="itNomeContato" class="col-sm-2 control-label">Nome de contato*:</label>
		<div class="col-sm-10">
		  <input type="text" class="form-control" id="itNomeContato" ng-model="anuncio.nome">
		</div>
	  </div>
	
	  <div class="form-group">
		<label for="itEmail" class="col-sm-2 control-label">E-mail*:</label>
		<div class="col-sm-10">
		  <div class="input-group">
			  <span class="input-group-addon">@</span>
			  <input type="text" class="form-control" id="itEmail" placeholder="Ex.: fulano@gmail.com" ng-model="anuncio.email">
		  </div>
		</div>
	  </div>
	  
	  <div class="form-group">
		<label for="itTelefone" class="col-sm-2 control-label">Telefone:</label>
		<div class="col-sm-10">
			<div class="input-group">
				<span class="input-group-addon glyphicon glyphicon-phone"></span>
		  		<input type="text" class="form-control" id="itTelefone" placeholder="(00) 0000 0000" ng-model="anuncio.telefone">
		  	</div>
		</div>
	  </div>
	  
	  <div ng-controller="estadosController">
	  	  
		  <div class="form-group">
			<label for="itEstado" class="col-sm-2 control-label">Estado:</label>	  	
			<div class="col-sm-10">
				<select id="itEstado" class="form-control" ng-model="anuncio.estado"
					ng-options="estado.nome for estado in estados">
				  <option value="">-- selecione o estado --</option>
				</select>
			</div>
		  </div>
		  
		  <div class="form-group">
			<label for="itCidade" class="col-sm-2 control-label">Cidade:</label>
			<div class="col-sm-10">
			   <select id="itCidade" class="form-control" ng-model="anuncio.cidade" 
			   		ng-options="cidade.nome for cidade in cidades | cidades: anuncio.estado">
				  <option value="">-- selecione a cidade --</option>
			   </select>
			</div>
		  </div>
		  
	  </div>
	  <hr />
	  <div class="form-group">
		<div class="col-sm-offset-2 col-sm-10">
		  <button type="submit" class="btn btn-success btn-lg">Publicar grátis</button>
		</div>
	  </div>
	</form>
</div>